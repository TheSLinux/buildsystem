# Maintainer: Anh K. Huynh <kyanh@theslinux.org>
# Original Maintainer: Jan de Groot <jgc@archlinux.org>
# Original Contributor: Chaiwat Suttipongsakul <cwt114@gmail.com>

pkgdesc="Implementation of double-array structure for representing trie, as proposed by Junichi Aoe."
url="http://linux.thai.net/projects/datrie"
license=('LGPL')
arch=('i686' 'x86_64')
depends=('glibc')
options=('!libtool' '!emptydirs')
source=(http://linux.thai.net/pub/thailinux/software/libthai/${PACKAGE_BASE}-${PACKAGE_VERSION}.tar.xz)

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  ./configure --prefix=/usr --libdir=/usr/lib${_FEATURE_LIB32:+32/} --disable-static
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install

  [[ -n "$_FEATURE_LIB32" ]] || return 0

  rm -rfv \
    "${pkgdir}"/usr/bin/ \
    "${pkgdir}"/usr/include/ \
    "${pkgdir}"/usr/share/
}
