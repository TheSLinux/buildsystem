From 9d045097c5ed5a6d7c651582235b618028117956 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Tue, 9 Apr 2013 17:46:51 +0000
Subject: [PATCH 1/4] Clean up some non-vi modules/language supports

---
 uim-vi/src/uim-1.8.5/byeoru-data/Makefile.am |  2 +-
 uim-vi/src/uim-1.8.5/pixmaps/Makefile.am     | 97 ++++------------------------
 uim-vi/src/uim-1.8.5/po/LINGUAS              |  1 -
 uim-vi/src/uim-1.8.5/scm/Makefile.am         | 81 ++---------------------
 uim-vi/src/uim-1.8.5/tables/Makefile.am      |  6 +-
 5 files changed, 22 insertions(+), 165 deletions(-)

diff --git a/uim-vi/src/uim-1.8.5/byeoru-data/Makefile.am b/uim-vi/src/uim-1.8.5/byeoru-data/Makefile.am
index 7a0063d..26b9066 100644
--- a/uim-vi/src/uim-1.8.5/byeoru-data/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/byeoru-data/Makefile.am
@@ -1,5 +1,5 @@
 byeorudatadir = $(pkgdatadir)/byeoru-data
 
-BYEORUDATA = byeoru-dict
+BYEORUDATA =
 
 dist_byeorudata_DATA = $(BYEORUDATA)
diff --git a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
index af68aa4..24b4489 100644
--- a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
@@ -9,113 +9,44 @@ SVGS = unknown.svg
 SVGS += unknown_dark_background.svg
 
 # input methods
-SVGS += direct.svg skk.svg tcode.svg tutcode.svg byeoru.svg wb86.svg zm.svg
+SVGS += direct.svg
 # dark background
-SVGS += direct_dark_background.svg \
-        skk_dark_background.svg \
-        tcode_dark_background.svg \
-        tutcode_dark_background.svg \
-        wb86_dark_background.svg zm_dark_background.svg
+SVGS += direct_dark_background.svg
 
 # input modes
-SVGS += direct_input.svg on.svg off.svg \
-        ja_direct.svg ja_hiragana.svg ja_katakana.svg \
-        ja_halfkana.svg \
-        ja_halfwidth_alnum.svg ja_fullwidth_alnum.svg \
-        prime_mode_application.svg \
-        ko_direct.svg ko_hangulchar.svg ko_hangulword.svg
+SVGS += direct_input.svg on.svg off.svg
+
 # dark background
 SVGS += direct_input_dark_background.svg \
         on_dark_background.svg \
-        off_dark_background.svg \
-        ja_direct_dark_background.svg \
-        ja_hiragana_dark_background.svg \
-        ja_katakana_dark_background.svg \
-        ja_halfkana_dark_background.svg \
-        ja_halfwidth_alnum_dark_background.svg \
-        ja_fullwidth_alnum_dark_background.svg \
-        prime_mode_application_dark_background.svg \
-        ko_direct_dark_background.svg \
-        ko_hangulchar_dark_background.svg \
-        ko_hangulword_dark_background.svg
-
-# Japanese kana input methods
-SVGS += ja_romaji.svg ja_kana.svg ja_azik.svg ja_act.svg ja_kzik.svg \
-        ja_nicola.svg ja_pocketbell.svg
-# dark background
-SVGS += ja_romaji_dark_background.svg \
-        ja_kana_dark_background.svg \
-        ja_azik_dark_background.svg \
-        ja_act_dark_background.svg \
-        ja_kzik_dark_background.svg
+        off_dark_background.svg
 
 # Tools
 SVGS += im_switcher.svg uim-dict.svg
 
 # input method substitutions
-IM_SUBST_SVGS = py.svg pyunihan.svg pinyin-big5.svg \
-                mana.svg \
-                hangul2.svg hangul3.svg romaja.svg \
-                viqr.svg ipa-x-sampa.svg latin.svg elatin.svg \
-                look.svg scim.svg sj3.svg wnn.svg \
-                social-ime.svg ajax-ime.svg yahoo-jp.svg \
-                google-cgiapi-jp.svg baidu-olime-jp.svg
-GENERATED_SVGS = $(IM_SUBST_SVGS) trycode.svg trycode_dark_background.svg
+IM_SUBST_SVGS = viqr.svg ipa-x-sampa.svg scim.svg
+
+GENERATED_SVGS = $(IM_SUBST_SVGS)
 SVGS += im_subst.svg $(GENERATED_SVGS)
 
-IM_SUBST_PNGS = py.png pyunihan.png pinyin-big5.png \
-                mana.png \
-                hangul2.png hangul3.png romaja.png \
-                viqr.png ipa-x-sampa.png latin.png elatin.png \
-                look.png scim.png sj3.png wnn.png \
-                social-ime.png ajax-ime.png yahoo-jp.png \
-                google-cgiapi-jp.png baidu-olime-jp.png
+IM_SUBST_PNGS = viqr.png ipa-x-sampa.png scim.png
 
 SVG_PNGS = unknown.png \
-           direct.png skk.png tcode.png tutcode.png trycode.png byeoru.png \
+           direct.png \
            direct_input.png on.png off.png \
-           ja_direct.png ja_hiragana.png ja_katakana.png \
-           ja_halfkana.png \
-           ja_halfwidth_alnum.png ja_fullwidth_alnum.png \
-           prime_mode_application.png \
-           ko_direct.png ko_hangulchar.png ko_hangulword.png \
-           ja_romaji.png ja_kana.png ja_azik.png ja_act.png ja_kzik.png \
-           ja_nicola.png \
-           ja_pocketbell.png \
-           wb86.png zm.png \
            im_switcher.png uim-dict.png $(IM_SUBST_PNGS) \
            unknown_dark_background.png \
            direct_dark_background.png \
-           skk_dark_background.png \
-           tcode_dark_background.png \
-           tutcode_dark_background.png \
-           trycode_dark_background.png \
-           wb86_dark_background.png \
-           zm_dark_background.png \
            direct_input_dark_background.png \
            on_dark_background.png \
-           off_dark_background.png \
-           ja_direct_dark_background.png \
-           ja_hiragana_dark_background.png \
-           ja_katakana_dark_background.png \
-           ja_halfkana_dark_background.png \
-           ja_halfwidth_alnum_dark_background.png \
-           ja_fullwidth_alnum_dark_background.png \
-           prime_mode_application_dark_background.png \
-           ko_direct_dark_background.png \
-           ko_hangulchar_dark_background.png \
-           ko_hangulword_dark_background.png \
-           ja_romaji_dark_background.png \
-           ja_kana_dark_background.png \
-           ja_azik_dark_background.png \
-           ja_act_dark_background.png \
-           ja_kzik_dark_background.png
+           off_dark_background.png
 
 NATIVE_PNGS = null.png uim-icon64.png uim-icon48.png uim-gray.png
 
-SCIM_PNGS = scim-anthy.png scim-canna.png scim-prime.png \
-	    scim-skk.png scim-wnn.png
-SCIM_ORIGINATED_PNGS = anthy.png canna.png prime.png
+SCIM_PNGS =
+
+SCIM_ORIGINATED_PNGS =
 if ANTHY_UTF8
 SCIM_ORIGINATED_PNGS += anthy-utf8.png
 endif
diff --git a/uim-vi/src/uim-1.8.5/po/LINGUAS b/uim-vi/src/uim-1.8.5/po/LINGUAS
index 4eb4f64..e69de29 100644
--- a/uim-vi/src/uim-1.8.5/po/LINGUAS
+++ b/uim-vi/src/uim-1.8.5/po/LINGUAS
@@ -1 +0,0 @@
-fr ja ko
diff --git a/uim-vi/src/uim-1.8.5/scm/Makefile.am b/uim-vi/src/uim-1.8.5/scm/Makefile.am
index 14d9393..331b219 100644
--- a/uim-vi/src/uim-1.8.5/scm/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/scm/Makefile.am
@@ -17,41 +17,9 @@ SCM_FILES = plugin.scm im.scm im-custom.scm lazy-load.scm init.scm \
  rk.scm \
  generic.scm generic-custom.scm generic-key-custom.scm \
  generic-predict.scm predict-custom.scm \
- predict-look.scm predict-look-skk.scm predict-sqlite3.scm \
- predict-google-suggest.scm \
- pyload.scm py.scm pyunihan.scm pinyin-big5.scm \
- xmload.scm \
- japanese.scm japanese-azik.scm japanese-kana.scm \
- japanese-act.scm japanese-kzik.scm japanese-custom.scm \
- anthy.scm anthy-custom.scm anthy-key-custom.scm \
- anthy-utf8.scm anthy-utf8-custom.scm \
- canna.scm cannav3-socket.scm canna-custom.scm canna-key-custom.scm \
- wnn.scm wnn-custom.scm wnn-key-custom.scm \
- sj3.scm sj3-custom.scm sj3-key-custom.scm sj3v2-socket.scm \
- prime.scm prime-custom.scm prime-key-custom.scm \
- skk.scm skk-editor.scm skk-custom.scm skk-key-custom.scm skk-dialog.scm \
- mana.scm mana-custom.scm mana-key-custom.scm \
- tcode.scm trycode.scm \
- tutcode.scm tutcode-custom.scm tutcode-key-custom.scm tutcode-bushu.scm \
- tutcode-bushudic.scm tutcode-rule.scm tutcode-kigoudic.scm \
- tutcode-editor.scm tutcode-dialog.scm tutcode-kigou-rule.scm \
- tutcode-rule-custom.scm \
- hangul.scm hangul2.scm hangul3.scm romaja.scm \
- byeoru.scm byeoru-symbols.scm \
- byeoru-custom.scm byeoru-key-custom.scm \
  viqr.scm \
  ipa-x-sampa.scm \
- latin.scm \
- elatin.scm elatin-rules.scm elatin-custom.scm \
- look.scm look-custom.scm \
  m17nlib.scm m17nlib-custom.scm \
- zaurus.scm \
- scim.scm \
- social-ime.scm social-ime-custom.scm social-ime-key-custom.scm \
- ajax-ime.scm ajax-ime-custom.scm ajax-ime-key-custom.scm \
- yahoo-jp.scm yahoo-jp-custom.scm yahoo-jp-key-custom.scm \
- google-cgiapi-jp.scm google-cgiapi-jp-custom.scm google-cgiapi-jp-key-custom.scm \
- baidu-olime-jp.scm baidu-olime-jp-custom.scm baidu-olime-jp-key-custom.scm \
  uim-module-manager.scm \
  fileio.scm socket.scm process.scm \
  openssl.scm \
@@ -62,62 +30,21 @@ SCM_FILES = plugin.scm im.scm im-custom.scm lazy-load.scm init.scm \
  json.scm json-parser-expanded.scm \
  http-client.scm http-server.scm \
  sxml-tools.scm sxpathlib.scm \
- annotation.scm annotation-custom.scm annotation-dict.scm annotation-eb.scm \
- annotation-filter.scm annotation-osx-dcs.scm \
+ annotation.scm annotation-custom.scm annotation-dict.scm \
+ annotation-filter.scm \
  dynlib.scm \
  ct.scm \
  dict-socket.scm
 
 OTHER_SCM_FILES = \
- wb86.scm zm.scm \
  macro-expander.scm macro-expander-chicken.scm \
  json-parser-expander.scm json.scm.in packrat.scm.in
+
 EXTRA_DIST = $(OTHER_SCM_FILES)
 
 ETAGS_ARGS=$(SCM_FILES) $(GENERATED_SCM_FILES)
 
-module_names =
-if ANTHY
-  module_names += "anthy"
-endif
-if ANTHY_UTF8
-  module_names += "anthy-utf8"
-endif
-if CANNA
-  module_names += "canna"
-endif
-if WNN
-  module_names += "wnn"
-endif
-if MANA
-  module_names += "mana"
-endif
-if PRIME
-  module_names += "prime"
-endif
-if SJ3
-  module_names += "sj3"
-endif
-if SKK
-  module_names += "skk"
-endif
-#module_names += "tcode" "trycode"
-module_names += "tutcode" "byeoru" "latin" "elatin"
-if M17NLIB
-  module_names += "m17nlib"
-endif
-module_names += "xmload"
-# less preferable IMs
-module_names += "pyload" "viqr" "ipa-x-sampa"  "look"
-#"hangul"
-if SCIM
-  module_names += "scim"
-endif
-# web based IMs
-  module_names += "ajax-ime" "social-ime" "google-cgiapi-jp" "baidu-olime-jp"
-if EXPAT
-  module_names += "yahoo-jp"
-endif
+module_names = "m17nlib" "viqr" "ipa-x-sampa"
 
 UIM_MODULE_MANAGER = $(top_builddir)/uim/uim-module-manager
 UIM_MODULE_MANAGER_ENV = \
diff --git a/uim-vi/src/uim-1.8.5/tables/Makefile.am b/uim-vi/src/uim-1.8.5/tables/Makefile.am
index 33d95f9..73a5338 100644
--- a/uim-vi/src/uim-1.8.5/tables/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/tables/Makefile.am
@@ -1,9 +1,9 @@
 tablesdir = $(pkgdatadir)/tables
 
-SCMS = wb86.scm zm.scm
-SCM_TABLES = wb86.table zm.table
+SCMS =
+SCM_TABLES =
 
-NATIVE_TABLES = 
+NATIVE_TABLES =
 
 GENERATED_TABLES = $(SCM_TABLES)
 
-- 
1.8.2.1


From df04775feb13d9eabe595c34bc6c33ed3c8ae9d1 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Thu, 11 Apr 2013 13:43:38 +0000
Subject: [PATCH 2/4] Add new module :xtelex

This module is a big table of predefined words for Telex users.
Pls check details at https://github.com/icy/myquartz-scim2uim
---
 uim-vi/src/uim-1.8.5/pixmaps/Makefile.am | 4 ++--
 uim-vi/src/uim-1.8.5/scm/Makefile.am     | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
index 24b4489..46a4324 100644
--- a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
@@ -25,12 +25,12 @@ SVGS += direct_input_dark_background.svg \
 SVGS += im_switcher.svg uim-dict.svg
 
 # input method substitutions
-IM_SUBST_SVGS = viqr.svg ipa-x-sampa.svg scim.svg
+IM_SUBST_SVGS = xtelex.svg viqr.svg ipa-x-sampa.svg scim.svg
 
 GENERATED_SVGS = $(IM_SUBST_SVGS)
 SVGS += im_subst.svg $(GENERATED_SVGS)
 
-IM_SUBST_PNGS = viqr.png ipa-x-sampa.png scim.png
+IM_SUBST_PNGS = xtelex.png viqr.png ipa-x-sampa.png scim.png
 
 SVG_PNGS = unknown.png \
            direct.png \
diff --git a/uim-vi/src/uim-1.8.5/scm/Makefile.am b/uim-vi/src/uim-1.8.5/scm/Makefile.am
index 331b219..636691f 100644
--- a/uim-vi/src/uim-1.8.5/scm/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/scm/Makefile.am
@@ -18,6 +18,7 @@ SCM_FILES = plugin.scm im.scm im-custom.scm lazy-load.scm init.scm \
  generic.scm generic-custom.scm generic-key-custom.scm \
  generic-predict.scm predict-custom.scm \
  viqr.scm \
+ xtelex.scm \
  ipa-x-sampa.scm \
  m17nlib.scm m17nlib-custom.scm \
  uim-module-manager.scm \
@@ -44,7 +45,7 @@ EXTRA_DIST = $(OTHER_SCM_FILES)
 
 ETAGS_ARGS=$(SCM_FILES) $(GENERATED_SCM_FILES)
 
-module_names = "m17nlib" "viqr" "ipa-x-sampa"
+module_names = "m17nlib" "viqr" "xtelex" "ipa-x-sampa"
 
 UIM_MODULE_MANAGER = $(top_builddir)/uim/uim-module-manager
 UIM_MODULE_MANAGER_ENV = \
-- 
1.8.2.1


From 2db90b14131b52f17615d812c3ac3bae6a150a09 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Fri, 12 Apr 2013 08:05:41 +0000
Subject: [PATCH 3/4] Add new module :xvni

This module is a big table of predefined words for VNI users.
It is genereated from https://github.com/icy/myquartz-scim2uim/ \
  blob/master/src/VNI.txt.in
---
 uim-vi/src/uim-1.8.5/pixmaps/Makefile.am | 4 ++--
 uim-vi/src/uim-1.8.5/scm/Makefile.am     | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
index 46a4324..c3a2792 100644
--- a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
@@ -25,12 +25,12 @@ SVGS += direct_input_dark_background.svg \
 SVGS += im_switcher.svg uim-dict.svg
 
 # input method substitutions
-IM_SUBST_SVGS = xtelex.svg viqr.svg ipa-x-sampa.svg scim.svg
+IM_SUBST_SVGS = xvni.svg xtelex.svg viqr.svg ipa-x-sampa.svg scim.svg
 
 GENERATED_SVGS = $(IM_SUBST_SVGS)
 SVGS += im_subst.svg $(GENERATED_SVGS)
 
-IM_SUBST_PNGS = xtelex.png viqr.png ipa-x-sampa.png scim.png
+IM_SUBST_PNGS = xvni.svg xtelex.png viqr.png ipa-x-sampa.png scim.png
 
 SVG_PNGS = unknown.png \
            direct.png \
diff --git a/uim-vi/src/uim-1.8.5/scm/Makefile.am b/uim-vi/src/uim-1.8.5/scm/Makefile.am
index 636691f..2256e1d 100644
--- a/uim-vi/src/uim-1.8.5/scm/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/scm/Makefile.am
@@ -19,6 +19,7 @@ SCM_FILES = plugin.scm im.scm im-custom.scm lazy-load.scm init.scm \
  generic-predict.scm predict-custom.scm \
  viqr.scm \
  xtelex.scm \
+ xvni.scm \
  ipa-x-sampa.scm \
  m17nlib.scm m17nlib-custom.scm \
  uim-module-manager.scm \
@@ -45,7 +46,7 @@ EXTRA_DIST = $(OTHER_SCM_FILES)
 
 ETAGS_ARGS=$(SCM_FILES) $(GENERATED_SCM_FILES)
 
-module_names = "m17nlib" "viqr" "xtelex" "ipa-x-sampa"
+module_names = "m17nlib" "viqr" "xvni" "xtelex" "ipa-x-sampa"
 
 UIM_MODULE_MANAGER = $(top_builddir)/uim/uim-module-manager
 UIM_MODULE_MANAGER_ENV = \
-- 
1.8.2.1


From cb0e841a0a3cba64df57eb09dc536277a0c1cc23 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Fri, 12 Apr 2013 08:20:32 +0000
Subject: [PATCH 4/4] Should use .png instead of .svg for vni

---
 uim-vi/src/uim-1.8.5/pixmaps/Makefile.am | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
index c3a2792..c363d2c 100644
--- a/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
+++ b/uim-vi/src/uim-1.8.5/pixmaps/Makefile.am
@@ -30,7 +30,7 @@ IM_SUBST_SVGS = xvni.svg xtelex.svg viqr.svg ipa-x-sampa.svg scim.svg
 GENERATED_SVGS = $(IM_SUBST_SVGS)
 SVGS += im_subst.svg $(GENERATED_SVGS)
 
-IM_SUBST_PNGS = xvni.svg xtelex.png viqr.png ipa-x-sampa.png scim.png
+IM_SUBST_PNGS = xvni.png xtelex.png viqr.png ipa-x-sampa.png scim.png
 
 SVG_PNGS = unknown.png \
            direct.png \
-- 

From: Severus, diff command

--- a/uim-vi/src/uim-1.8.5/gtk2/Makefile.am	2013-03-31 17:12:00.000000000 +0700
+++ b/uim-vi/src/uim-1.8.5/gtk2/Makefile.am	2013-04-17 23:38:18.752849664 +0700
@@ -1 +1 @@
-SUBDIRS = candwin dict immodule pad pref switcher test toolbar
+SUBDIRS = candwin dict immodule pref switcher test toolbar
--- a/uim-vi/src/uim-1.8.5/gtk2/toolbar/common-gtk.c	2013-03-31 17:12:00.000000000 +0700
+++ b/uim-vi/src/uim-1.8.5/gtk2/toolbar/common-gtk.c	2013-04-17 23:39:49.009513262 +0700
@@ -109,45 +109,7 @@
     UIM_FALSE
   },
 
-  {
-    N_("Japanese dictionary editor"),
-    NULL,
-    "uim-dict",
-#if GTK_CHECK_VERSION(2, 90, 0)
-    "uim-dict-gtk3",
-#else
-    "uim-dict-gtk",
-#endif
-    "toolbar-show-dict-button?",
-    UIM_FALSE
-  },
-
-  {
-    N_("Input pad"),
-    NULL,
-    GTK_STOCK_BOLD,
-#if GTK_CHECK_VERSION(2, 90, 0)
-    "uim-input-pad-ja-gtk3",
-#else
-    "uim-input-pad-ja",
-#endif
-    "toolbar-show-input-pad-button?",
-    UIM_FALSE
-  },
-
-  {
-    N_("Handwriting input pad"),
-    "H",
-#if GTK_CHECK_VERSION(2, 6, 0)
-    GTK_STOCK_EDIT,
-#else
-    NULL,
-#endif
-    "uim-tomoe-gtk",
-    "toolbar-show-handwriting-input-pad-button?",
-    UIM_FALSE
-  },
-
+  
   {
     N_("Help"),
     NULL,
--- a/uim-vi/src/uim-1.8.5/qt3/toolbar/common-quimhelpertoolbar.cpp	2013-03-31 17:12:00.000000000 +0700
+++ b/uim-vi/src/uim-1.8.5/qt3/toolbar/common-quimhelpertoolbar.cpp	2013-04-17 23:46:49.296165636 +0700
@@ -61,9 +61,6 @@
     QPixmap exiticon = QPixmap( ACTION_ICONDIR + "/exit.png");
     QImage swimage = swicon.convertToImage();
     QImage prefimage = preficon.convertToImage();
-    QImage dictimage = dicticon.convertToImage();
-    QImage padimage = padicon.convertToImage();
-    QImage handimage = handicon.convertToImage();
     QImage helpimage = helpicon.convertToImage();
     QImage exitimage = exiticon.convertToImage();
     m_swicon = swimage.smoothScale(ICON_SIZE, ICON_SIZE);
@@ -77,9 +74,6 @@
     m_contextMenu = new QPopupMenu( this );
     m_contextMenu->insertItem( m_swicon,   _("Switch input method"), this, SLOT(slotExecImSwitcher()) );
     m_contextMenu->insertItem( m_preficon, _("Preference"), this, SLOT(slotExecPref()) );
-    m_contextMenu->insertItem( m_dicticon, _("Japanese dictionary editor"), this, SLOT(slotExecDict()) );
-    m_contextMenu->insertItem( m_padicon, _("Input pad"), this, SLOT(slotExecInputPad()) );
-    m_contextMenu->insertItem( m_handicon, _("Handwriting input pad"), this, SLOT(slotExecHandwritingInputPad()) );
     m_contextMenu->insertItem( m_helpicon, _("Help"), this, SLOT(slotExecHelp()) );
     if ( !isApplet )
         m_contextMenu->insertItem( exiticon, _("Quit this toolbar"), this, SIGNAL(quitToolbar()) );
@@ -88,9 +82,6 @@
     // toolbar buttons    
     addExecImSwitcherButton();
     addExecPrefButton();
-    addExecDictButton();
-    addExecInputPadButton();
-    addExecHandwritingInputPadButton();
     addExecHelpButton();
 }
 
@@ -172,76 +163,6 @@
     system( "uim-pref-qt &" );
 }
 
-void QUimHelperToolbar::addExecDictButton()
-{
-    uim_bool isShowDict = uim_scm_symbol_value_bool("toolbar-show-dict-button?");
-    if( isShowDict == UIM_FALSE )
-        return;
-
-    QToolButton *dictButton = new QHelperToolbarButton( this );
-    if( !m_dicticon.isNull() )
-        dictButton->setPixmap( m_dicticon );
-    else
-        dictButton->setText( "Dic" );
-
-    QObject::connect( dictButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecDict() ) );
-    QToolTip::add( dictButton, _( "Japanese dictionary editor" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecDict()
-{
-    /* exec uim-dict */
-    system( "uim-dict-gtk&" );
-}
-
-void QUimHelperToolbar::addExecInputPadButton()
-{
-    uim_bool isShowInputPad = uim_scm_symbol_value_bool("toolbar-show-input-pad-button?");
-    if( isShowInputPad == UIM_FALSE )
-        return;
-
-    QToolButton *inputpadButton = new QHelperToolbarButton( this );
-    if( !m_padicon.isNull() )
-        inputpadButton->setPixmap( m_padicon );
-    else
-        inputpadButton->setText( "Pad" );
-
-    QObject::connect( inputpadButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecInputPad() ) );
-    QToolTip::add( inputpadButton, _( "Input pad" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecInputPad()
-{
-    /* exec input pad */
-    system( "uim-chardict-qt &");
-}
-
-void QUimHelperToolbar::addExecHandwritingInputPadButton()
-{
-    uim_bool isShowHandwritingInputPad = uim_scm_symbol_value_bool("toolbar-show-handwriting-input-pad-button?");
-    if( isShowHandwritingInputPad == UIM_FALSE )
-        return;
-
-    QToolButton *handwritingButton = new QHelperToolbarButton( this );
-    if( !m_handicon.isNull() )
-        handwritingButton->setPixmap( m_handicon );
-    else
-        handwritingButton->setText( "Hand" );
-
-    QObject::connect( handwritingButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecHandwritingInputPad() ) );
-    QToolTip::add( handwritingButton, _( "Handwriting input pad" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecHandwritingInputPad()
-{
-    system( "uim-tomoe-gtk &" );
-}
 
 void QUimHelperToolbar::addExecHelpButton()
 {
 
--- a/uim-vi/src/uim-1.8.5/qt4/toolbar/common-quimhelpertoolbar.cpp	2013-03-31 17:13:09.000000000 +0700
+++ b/uim-vi/src/uim-1.8.5/qt4/toolbar/common-quimhelpertoolbar.cpp	2013-04-18 00:35:33.366066199 +0700
@@ -75,12 +75,6 @@
         size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
     m_preficon = QPixmap( ACTION_ICONDIR + "/configure.png" ).scaled(
         size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
-    m_dicticon = QPixmap( ICONDIR + "/uim-dict.png" ).scaled(
-        size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
-    m_padicon = QPixmap( ACTION_ICONDIR + "/format-text-bold.png" ).scaled(
-        size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
-    m_handicon = QPixmap( ACTION_ICONDIR + "/document-edit.png" ).scaled(
-        size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
     m_helpicon = QPixmap( ACTION_ICONDIR + "/help-contents.png" ).scaled(
         size, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
     QPixmap exiticon = QPixmap( ACTION_ICONDIR + "/window-close.png" ).scaled(
@@ -91,12 +85,6 @@
         this, SLOT(slotExecImSwitcher()) );
     m_contextMenu->addAction( m_preficon, _("Preference"),
          this, SLOT(slotExecPref()) );
-    m_contextMenu->addAction( m_dicticon, _("Japanese dictionary editor"),
-         this, SLOT(slotExecDict()) );
-    m_contextMenu->addAction( m_padicon, _("Input pad"),
-         this, SLOT(slotExecInputPad()) );
-    m_contextMenu->addAction( m_handicon, _("Handwriting input pad"),
-         this, SLOT(slotExecHandwritingInputPad()) );
     m_contextMenu->addAction( m_helpicon, _("Help"),
          this, SLOT(slotExecHelp()) );
     if ( !isApplet )
@@ -107,9 +95,6 @@
     // toolbar buttons    
     addExecImSwitcherButton();
     addExecPrefButton();
-    addExecDictButton();
-    addExecInputPadButton();
-    addExecHandwritingInputPadButton();
     addExecHelpButton();
 
     setLayout(m_layout);
@@ -200,80 +185,6 @@
     launchHelperApplication( "uim-pref-qt4" );
 }
 
-void QUimHelperToolbar::addExecDictButton()
-{
-    uim_bool isShowDict = uim_scm_symbol_value_bool("toolbar-show-dict-button?");
-    if( isShowDict == UIM_FALSE )
-        return;
-
-    QToolButton *dictButton = new QHelperToolbarButton( this );
-    m_layout->addWidget( dictButton );
-    if( !m_dicticon.isNull() )
-        dictButton->setIcon( QIcon( m_dicticon ) );
-    else
-        dictButton->setText( "Dic" );
-
-    connect( dictButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecDict() ) );
-    dictButton->setToolTip( _( "Japanese dictionary editor" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecDict()
-{
-    /* exec uim-dict */
-    launchHelperApplication( "uim-dict-gtk" );
-}
-
-void QUimHelperToolbar::addExecInputPadButton()
-{
-    uim_bool isShowInputPad = uim_scm_symbol_value_bool("toolbar-show-input-pad-button?");
-    if( isShowInputPad == UIM_FALSE )
-        return;
-
-    QToolButton *inputpadButton = new QHelperToolbarButton( this );
-    m_layout->addWidget( inputpadButton );
-    if( !m_padicon.isNull() )
-        inputpadButton->setIcon( QIcon( m_padicon ) );
-    else
-        inputpadButton->setText( "Pad" );
-
-    connect( inputpadButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecInputPad() ) );
-    inputpadButton->setToolTip( _( "Input pad" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecInputPad()
-{
-    /* exec input pad */
-    launchHelperApplication( "uim-chardict-qt4" );
-}
-
-void QUimHelperToolbar::addExecHandwritingInputPadButton()
-{
-    uim_bool isShowHandwritingInputPad = uim_scm_symbol_value_bool("toolbar-show-handwriting-input-pad-button?");
-    if( isShowHandwritingInputPad == UIM_FALSE )
-        return;
-
-    QToolButton *handwritingButton = new QHelperToolbarButton( this );
-    m_layout->addWidget( handwritingButton );
-    if( !m_handicon.isNull() )
-        handwritingButton->setIcon( QIcon( m_handicon ) );
-    else
-        handwritingButton->setText( "Hand" );
-
-    connect( handwritingButton, SIGNAL( clicked() ),
-                      this, SLOT( slotExecHandwritingInputPad() ) );
-    handwritingButton->setToolTip( _( "Handwriting input pad" ) );
-    ++m_nr_exec_buttons;
-}
-
-void QUimHelperToolbar::slotExecHandwritingInputPad()
-{
-    launchHelperApplication( "uim-tomoe-gtk" );
-}
-
 void QUimHelperToolbar::addExecHelpButton()
 {
     uim_bool isShowHelp = uim_scm_symbol_value_bool("toolbar-show-help-button?");
     
--- a/uim-vi/src/uim-1.8.5/qt4/toolbar/common-quimhelpertoolbar.h~	2013-03-31 17:13:09.000000000 +0700
+++ b/uim-vi/src/uim-1.8.5/qt4/toolbar/common-quimhelpertoolbar.h	2013-04-18 00:19:55.129431439 +0700
@@ -63,17 +63,11 @@
 protected:
     void addExecImSwitcherButton();
     void addExecPrefButton();
-    void addExecDictButton();
-    void addExecInputPadButton();
-    void addExecHandwritingInputPadButton();
     void addExecHelpButton();    
 
     int getNumButtons();
 protected slots:
     void slotExecImSwitcher();
-    void slotExecDict();
-    void slotExecInputPad();
-    void slotExecHandwritingInputPad();
     void slotExecHelp();    
 
     void slotIndicatorResized();
@@ -86,9 +80,6 @@
     UimStateIndicator *m_indicator;
     QPixmap m_swicon;
     QPixmap m_preficon;
-    QPixmap m_dicticon;
-    QPixmap m_padicon;
-    QPixmap m_handicon;
     QPixmap m_helpicon;
     QMenu *m_contextMenu;
     int m_nr_exec_buttons;
1.8.2.1

