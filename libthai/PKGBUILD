# Maintainer: Anh K. Huynh <kyanh@theslinux.org>

# Original Maintainer: Jan de Groot <jgc@archlinux.org>
# Original Contributor: Chaiwat Suttipongsakul <cwt114@gmail.com>

pkgdesc="Thai language support routines"
url="http://linux.thai.net/projects/libthai"
arch=('i686' 'x86_64')
license=('LGPL')
depends=("libdatrie${_FEATURE_LIB32:+%lib32}")
makedepends=("pkgconfig" "libdatrie${_FEATURE_LIB32:+%lib32}")
options=('!libtool' '!emptydirs')
source=(http://linux.thai.net/pub/thailinux/software/${PACKAGE_BASE}/${PACKAGE_BASE}-${PACKAGE_VERSION}.tar.xz)

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  ./configure --prefix=/usr --libdir=/usr/lib"${_FEATURE_LIB32}" --disable-static
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install

  [[ -n "$_FEATURE_LIB32" ]] || return 0
  rm -rf \
    "${pkgdir}"/usr/include/ \
    "${pkgdir}"/usr/share/
}
